<?xml version="1.0" encoding="UTF-8" ?>
<Configuration>

	<Appenders>

		<Console name="console" target="SYSTEM_OUT">
			<PatternLayout
				pattern="%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p (%t) %m%n" />
		</Console>

		<RollingFile name="appLog"
			fileName="log/chat_app.log"
			filePattern="log/chat_app_%d{yyyy-MM-dd}_%i.log" append="true">
			<PatternLayout>
				<Pattern>"%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p (%t) %m%n</Pattern>
			</PatternLayout>
			<Policies>
				<SizeBasedTriggeringPolicy size="500 MB" />
			</Policies>
			<DefaultRolloverStrategy max="100" />
		</RollingFile>

		<RollingFile name="perfLog"
			fileName="log/chatApp_performance.log"
			filePattern="log/chatApp_performance_%d{yyyy-MM-dd}_%i.log" append="true">
			<PatternLayout>
				<Pattern>"%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p (%t) %m%n</Pattern>
			</PatternLayout>
			<Policies>
				<SizeBasedTriggeringPolicy size="500 MB" />
			</Policies>
			<DefaultRolloverStrategy max="50" />
		</RollingFile>

		<RollingFile name="auditLog"
			fileName="/opt/stl/log/chatApp.log"
			filePattern="/opt/stl/log/chat_app_%d{yyyy-MM-dd}_%i.log" append="true">
			<PatternLayout>
				<Pattern>"%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p (%t) %m%n</Pattern>
			</PatternLayout>
			<Policies>
				<SizeBasedTriggeringPolicy size="500 MB" />
			</Policies>
			<DefaultRolloverStrategy max="50" />
		</RollingFile>

	</Appenders>

	<Loggers>
		<Logger name="com.chat" level="info" additivity="false">
			<AppenderRef ref="appLog" />
		</Logger>
		<Logger name="PERFORMANCE" level="info" additivity="false">
			<AppenderRef ref="perfLog" />
		</Logger>
		<Logger name="AUDIT" level="info" additivity="false">
			<AppenderRef ref="auditLog" />
		</Logger>
		<Root level="info">
			<AppenderRef ref="console" />
			<AppenderRef ref="appLog" />
		</Root>
	</Loggers>

</Configuration>